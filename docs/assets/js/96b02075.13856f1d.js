"use strict";(self.webpackChunk_canvas_ui_docs=self.webpackChunk_canvas_ui_docs||[]).push([[742],{2403:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"containers/canvas","title":"Canvas","description":"Canvas is the special root component of Canvas UI - all Canvas UI elements must be descendants of this component. It serves as the bridge between the HTML DOM and the Canvas UI rendering system.","source":"@site/docs/containers/canvas.md","sourceDirName":"containers","slug":"/containers/canvas","permalink":"/canvas-ui/containers/canvas","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/containers/canvas.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Containers","permalink":"/canvas-ui/category/containers"},"next":{"title":"View","permalink":"/canvas-ui/containers/view"}}');var t=s(4489),i=s(3237);const l={sidebar_position:1},o="Canvas",r={},c=[{value:"Overview",id:"overview",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Props",id:"props",level:2},{value:"<code>children</code>",id:"children",level:3},{value:"<code>onReady</code>",id:"onready",level:3},{value:"Key Features",id:"key-features",level:2},{value:"\ud83d\uddbc\ufe0f <strong>Automatic Canvas Management</strong>",id:"\ufe0f-automatic-canvas-management",level:3},{value:"\ud83c\udfaf <strong>Rendering Context</strong>",id:"-rendering-context",level:3},{value:"\ud83d\udcf1 <strong>Responsive Design</strong>",id:"-responsive-design",level:3},{value:"Integration with React",id:"integration-with-react",level:2},{value:"Layout Behavior",id:"layout-behavior",level:2},{value:"Event Handling",id:"event-handling",level:2},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Accessing Canvas State",id:"accessing-canvas-state",level:3},{value:"Complex Layouts",id:"complex-layouts",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 Do&#39;s",id:"-dos",level:3},{value:"\u274c Don&#39;ts",id:"-donts",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Container with Fixed Dimensions",id:"container-with-fixed-dimensions",level:3},{value:"Full-Screen Canvas",id:"full-screen-canvas",level:3},{value:"Canvas in a Flex Layout",id:"canvas-in-a-flex-layout",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"canvas",children:"Canvas"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Canvas"})," is the special root component of Canvas UI - all Canvas UI elements must be descendants of this component. It serves as the bridge between the HTML DOM and the Canvas UI rendering system."]}),"\n",(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"Canvas"})," component is the essential entry point for any Canvas UI application. It creates and manages an HTML Canvas element, sets up the rendering pipeline, and provides the context for all child components to render within the Canvas environment."]}),"\n",(0,t.jsxs)(e.p,{children:["Unlike traditional HTML elements, ",(0,t.jsx)(e.code,{children:"Canvas"})," operates on a different rendering paradigm where all child components are rendered onto a Canvas surface using Canvas API calls rather than DOM manipulation."]}),"\n",(0,t.jsx)(e.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",metastring:"live",live:!0,children:"function BasicCanvasExample() {\n  const {\n    Canvas,\n    Text,\n  } = importCanvasUIPackages()\n  return (\n    <div style={{ height: '150px', border: '1px solid #ddd' }}>\n      <Canvas>\n        <Text style={{ fontSize: 16, color: '#333' }}>\n          Hello, Canvas UI!\n        </Text>\n      </Canvas>\n    </div>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"props",children:"Props"}),"\n",(0,t.jsx)(e.h3,{id:"children",children:(0,t.jsx)(e.code,{children:"children"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Type:"})," ",(0,t.jsx)(e.code,{children:"ReactNode"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Required:"})," Yes"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Description:"})," The Canvas UI components to be rendered within the canvas. These must be Canvas UI components (like ",(0,t.jsx)(e.code,{children:"Text"}),", ",(0,t.jsx)(e.code,{children:"Flex"}),", ",(0,t.jsx)(e.code,{children:"View"}),", etc.), not regular HTML elements."]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"onready",children:(0,t.jsx)(e.code,{children:"onReady"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Type:"})," ",(0,t.jsx)(e.code,{children:"() => void"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Required:"})," No"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Description:"})," Callback function that gets called when the canvas is ready and initialized. Useful for performing actions that depend on the canvas being fully set up."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<Canvas onReady={() => console.log('Canvas is ready!')}>\n  <Text>Content</Text>\n</Canvas>\n"})}),"\n",(0,t.jsx)(e.h2,{id:"key-features",children:"Key Features"}),"\n",(0,t.jsxs)(e.h3,{id:"\ufe0f-automatic-canvas-management",children:["\ud83d\uddbc\ufe0f ",(0,t.jsx)(e.strong,{children:"Automatic Canvas Management"})]}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"Canvas"})," component automatically creates and manages an HTML Canvas element, handling:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Canvas element creation and sizing"}),"\n",(0,t.jsx)(e.li,{children:"Device pixel ratio (DPR) adjustments for high-density displays"}),"\n",(0,t.jsx)(e.li,{children:"Automatic resizing when the container dimensions change"}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"-rendering-context",children:["\ud83c\udfaf ",(0,t.jsx)(e.strong,{children:"Rendering Context"})]}),"\n",(0,t.jsx)(e.p,{children:"Provides the rendering context that all child components need to function:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Sets up the Canvas UI rendering pipeline"}),"\n",(0,t.jsx)(e.li,{children:"Manages the scene tree and layout system"}),"\n",(0,t.jsx)(e.li,{children:"Handles event delegation and hit testing"}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"-responsive-design",children:["\ud83d\udcf1 ",(0,t.jsx)(e.strong,{children:"Responsive Design"})]}),"\n",(0,t.jsx)(e.p,{children:"The canvas automatically adapts to its container:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Fills the parent container completely"}),"\n",(0,t.jsx)(e.li,{children:"Responds to container size changes"}),"\n",(0,t.jsx)(e.li,{children:"Maintains proper aspect ratios on different screen densities"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"integration-with-react",children:"Integration with React"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"Canvas"})," component seamlessly integrates with React applications:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"function App() {\n  const [message, setMessage] = useState(\"Click me!\")\n\n  return (\n    <div style={{ height: '200px' }}>\n      <Canvas>\n        <Flex style={{ flexDirection: 'column', padding: 20 }}>\n          <Text\n            style={{ fontSize: 18, cursor: 'pointer' }}\n            onPointerDown={() => setMessage(\"Hello from Canvas!\")}\n            text={ message }\n          />\n          <Text style={{ fontSize: 14, color: '#666', marginTop: 10 }} text='This text is rendered on Canvas' />\n        </Flex>\n      </Canvas>\n    </div>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"layout-behavior",children:"Layout Behavior"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"Canvas"})," component itself behaves like a regular HTML element in terms of layout:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"// Canvas fills the container\n<div style={{ width: '500px', height: '300px' }}>\n  <Canvas>\n    <Text>Canvas content</Text>\n  </Canvas>\n</div>\n\n// Canvas with specific styling\n<Canvas style={{ border: '1px solid #ccc', borderRadius: '8px' }}>\n  <Text>Styled canvas</Text>\n</Canvas>\n"})}),"\n",(0,t.jsx)(e.h2,{id:"event-handling",children:"Event Handling"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"Canvas"})," component supports all standard Canvas UI events on its children:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",metastring:"live",live:!0,children:"function EventExample() {\n  const [status, setStatus] = useState('Ready')\n  const {\n    Canvas,\n    Text,\n    Flex,\n  } = importCanvasUIPackages()\n\n  return (\n    <div style={{ height: '120px', border: '1px solid #ddd' }}>\n      <Canvas>\n        <Flex style={{ padding: 16, flexDirection: 'column', width: 200 }}>\n          <Text\n            style={{\n              fontSize: 16,\n              cursor: 'pointer',\n              padding: 8,\n              backgroundColor: '#f0f0f0',\n              borderRadius: 4\n            }}\n            onPointerDown={() => setStatus('Clicked!')}\n            onPointerOver={() => setStatus('Hovering')}\n            onPointerOut={() => setStatus('Ready')}\n            text={'Interactive Text'}\n          />\n          <Text style={{ fontSize: 12, color: '#666', marginTop: 8 }} text={`Status: ${status}`} />\n        </Flex>\n      </Canvas>\n    </div>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,t.jsx)(e.h3,{id:"accessing-canvas-state",children:"Accessing Canvas State"}),"\n",(0,t.jsxs)(e.p,{children:["Use the ",(0,t.jsx)(e.code,{children:"useCanvasState"})," hook to access canvas information within child components:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"import { useCanvasState } from '@canvas-ui/react'\n\nfunction CanvasInfo() {\n  const { width, height, binding } = useCanvasState()\n\n  return (\n    <Text>\n      Canvas size: {width} x {height}\n    </Text>\n  )\n}\n\nfunction App() {\n  return (\n    <Canvas>\n      <CanvasInfo />\n    </Canvas>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"complex-layouts",children:"Complex Layouts"}),"\n",(0,t.jsx)(e.p,{children:"Canvas UI supports sophisticated layouts within the Canvas:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",metastring:"live",live:!0,children:"function ComplexLayout() {\n  const {\n    Canvas,\n    Text,\n    Flex,\n  } = importCanvasUIPackages()\n\n  return (\n    <div style={{ height: '200px', border: '1px solid #ddd' }}>\n      <Canvas>\n        <Flex style={{\n          flexDirection: 'row',\n          width: 10,\n          height: 200,\n          padding: 16,\n          gap: 16\n        }}>\n          <Flex style={{\n            flex: 1,\n            backgroundColor: '#e3f2fd',\n            borderRadius: 8,\n            padding: 12,\n            flexDirection: 'column'\n          }}>\n            <Text style={{ fontSize: 14, fontWeight: 'bold' }}>Left Panel</Text>\n            <Text style={{ fontSize: 12, marginTop: 4 }}>Some content here</Text>\n          </Flex>\n          <Flex style={{\n            flex: 2,\n            backgroundColor: '#f3e5f5',\n            borderRadius: 8,\n            padding: 12,\n            flexDirection: 'column'\n          }}>\n            <Text style={{ fontSize: 14, fontWeight: 'bold' }}>Main Content</Text>\n            <Text style={{ fontSize: 12, marginTop: 4 }}>More content in the main area</Text>\n          </Flex>\n        </Flex>\n      </Canvas>\n    </div>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(e.h3,{id:"-dos",children:"\u2705 Do's"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Always wrap Canvas UI components in a ",(0,t.jsx)(e.code,{children:"Canvas"})," component"]}),"\n",(0,t.jsxs)(e.li,{children:["Use the ",(0,t.jsx)(e.code,{children:"onReady"})," callback for initialization logic"]}),"\n",(0,t.jsx)(e.li,{children:"Leverage React state and props for dynamic content"}),"\n",(0,t.jsx)(e.li,{children:"Use Canvas UI's layout system (Flex) for responsive designs"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"-donts",children:"\u274c Don'ts"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Don't mix HTML elements as direct children of Canvas UI components"}),"\n",(0,t.jsx)(e.li,{children:"Don't try to manipulate the HTML canvas element directly"}),"\n",(0,t.jsx)(e.li,{children:"Don't forget to provide adequate container dimensions"}),"\n",(0,t.jsx)(e.li,{children:"Don't use Canvas for simple text-only content where HTML would suffice"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,t.jsx)(e.h3,{id:"container-with-fixed-dimensions",children:"Container with Fixed Dimensions"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<div style={{ width: '800px', height: '600px' }}>\n  <Canvas>\n    {/* Your Canvas UI content */}\n  </Canvas>\n</div>\n"})}),"\n",(0,t.jsx)(e.h3,{id:"full-screen-canvas",children:"Full-Screen Canvas"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<div style={{ width: '100vw', height: '100vh' }}>\n  <Canvas>\n    {/* Full-screen content */}\n  </Canvas>\n</div>\n"})}),"\n",(0,t.jsx)(e.h3,{id:"canvas-in-a-flex-layout",children:"Canvas in a Flex Layout"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:"<div style={{ display: 'flex', height: '400px' }}>\n  <div style={{ flex: 1 }}>\n    <Canvas>\n      {/* Canvas content takes remaining space */}\n    </Canvas>\n  </div>\n</div>\n"})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},3237:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>o});var a=s(4349);const t={},i=a.createContext(t);function l(n){const e=a.useContext(i);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),a.createElement(i.Provider,{value:e},n.children)}}}]);